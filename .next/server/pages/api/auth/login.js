"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/login";
exports.ids = ["pages/api/auth/login"];
exports.modules = {

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("dotenv");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "../../../api-utils/node":
/*!*****************************************************!*\
  !*** external "next/dist/server/api-utils/node.js" ***!
  \*****************************************************/
/***/ ((module) => {

module.exports = require("next/dist/server/api-utils/node.js");

/***/ }),

/***/ "../route-module":
/*!************************************************************************!*\
  !*** external "next/dist/server/future/route-modules/route-module.js" ***!
  \************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/server/future/route-modules/route-module.js");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = import("bcryptjs");;

/***/ }),

/***/ "(api)/./src/models/User.ts":
/*!****************************!*\
  !*** ./src/models/User.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\n// User schema\nconst UserSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n  fullName: {\n    type: String,\n    required: [true, 'Full name is required'],\n    trim: true\n  },\n  email: {\n    type: String,\n    required: [true, 'Email is required'],\n    unique: true,\n    trim: true,\n    lowercase: true,\n    match: [/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/, 'Please provide a valid email']\n  },\n  password: {\n    type: String,\n    required: [true, 'Password is required'],\n    minlength: [8, 'Password must be at least 8 characters long'],\n    select: false // Don't include password in query results by default\n\n  },\n  role: {\n    type: String,\n    enum: ['Administrator', 'Department Head', 'Teacher', 'Student Teacher'],\n    default: 'Teacher'\n  },\n  department: {\n    type: String,\n    required: true\n  },\n  status: {\n    type: String,\n    enum: ['active', 'inactive'],\n    default: 'active'\n  },\n  lastActive: {\n    type: Date,\n    default: Date.now\n  }\n}, {\n  timestamps: true // Adds createdAt and updatedAt\n\n}); // Create and export User model\n// Check if the model exists before creating a new one\n\nconst User = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('User', UserSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbW9kZWxzL1VzZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFnQkE7QUFDQSxNQUFNRSxVQUFrQixHQUFHLElBQUlELDRDQUFKLENBQ3pCO0VBQ0VFLFFBQVEsRUFBRTtJQUNSQyxJQUFJLEVBQUVDLE1BREU7SUFFUkMsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLHVCQUFQLENBRkY7SUFHUkMsSUFBSSxFQUFFO0VBSEUsQ0FEWjtFQU1FQyxLQUFLLEVBQUU7SUFDTEosSUFBSSxFQUFFQyxNQUREO0lBRUxDLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxtQkFBUCxDQUZMO0lBR0xHLE1BQU0sRUFBRSxJQUhIO0lBSUxGLElBQUksRUFBRSxJQUpEO0lBS0xHLFNBQVMsRUFBRSxJQUxOO0lBTUxDLEtBQUssRUFBRSxDQUFDLDZDQUFELEVBQWdELDhCQUFoRDtFQU5GLENBTlQ7RUFjRUMsUUFBUSxFQUFFO0lBQ1JSLElBQUksRUFBRUMsTUFERTtJQUVSQyxRQUFRLEVBQUUsQ0FBQyxJQUFELEVBQU8sc0JBQVAsQ0FGRjtJQUdSTyxTQUFTLEVBQUUsQ0FBQyxDQUFELEVBQUksNkNBQUosQ0FISDtJQUlSQyxNQUFNLEVBQUUsS0FKQSxDQUlPOztFQUpQLENBZFo7RUFvQkVDLElBQUksRUFBRTtJQUNKWCxJQUFJLEVBQUVDLE1BREY7SUFFSlcsSUFBSSxFQUFFLENBQUMsZUFBRCxFQUFrQixpQkFBbEIsRUFBcUMsU0FBckMsRUFBZ0QsaUJBQWhELENBRkY7SUFHSkMsT0FBTyxFQUFFO0VBSEwsQ0FwQlI7RUF5QkVDLFVBQVUsRUFBRTtJQUNWZCxJQUFJLEVBQUVDLE1BREk7SUFFVkMsUUFBUSxFQUFFO0VBRkEsQ0F6QmQ7RUE2QkVhLE1BQU0sRUFBRTtJQUNOZixJQUFJLEVBQUVDLE1BREE7SUFFTlcsSUFBSSxFQUFFLENBQUMsUUFBRCxFQUFXLFVBQVgsQ0FGQTtJQUdOQyxPQUFPLEVBQUU7RUFISCxDQTdCVjtFQWtDRUcsVUFBVSxFQUFFO0lBQ1ZoQixJQUFJLEVBQUVpQixJQURJO0lBRVZKLE9BQU8sRUFBRUksSUFBSSxDQUFDQztFQUZKO0FBbENkLENBRHlCLEVBd0N6QjtFQUNFQyxVQUFVLEVBQUUsSUFEZCxDQUNvQjs7QUFEcEIsQ0F4Q3lCLENBQTNCLEVBNkNBO0FBQ0E7O0FBQ0EsTUFBTUMsSUFBa0IsR0FBR3hCLHdEQUFBLENBQWdCd0IsSUFBaEIsSUFBd0J4QixxREFBQSxDQUFzQixNQUF0QixFQUE4QkUsVUFBOUIsQ0FBbkQ7QUFFQSxpRUFBZXNCLElBQWYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZWFjaHByZXAtYWkvLi9zcmMvbW9kZWxzL1VzZXIudHM/MDk2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgRG9jdW1lbnQsIE1vZGVsLCBTY2hlbWEgfSBmcm9tICdtb25nb29zZSc7XHJcbmltcG9ydCB7IFJvbGUgfSBmcm9tICdAL3V0aWxzL3Blcm1pc3Npb25zJztcclxuXHJcbi8vIFVzZXIgaW50ZXJmYWNlXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVVzZXIgZXh0ZW5kcyBEb2N1bWVudCB7XHJcbiAgZnVsbE5hbWU6IHN0cmluZztcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIHBhc3N3b3JkOiBzdHJpbmc7XHJcbiAgcm9sZTogUm9sZTtcclxuICBkZXBhcnRtZW50OiBzdHJpbmc7XHJcbiAgc3RhdHVzOiAnYWN0aXZlJyB8ICdpbmFjdGl2ZSc7XHJcbiAgbGFzdEFjdGl2ZTogRGF0ZTtcclxuICBjcmVhdGVkQXQ6IERhdGU7XHJcbiAgdXBkYXRlZEF0OiBEYXRlO1xyXG59XHJcblxyXG4vLyBVc2VyIHNjaGVtYVxyXG5jb25zdCBVc2VyU2NoZW1hOiBTY2hlbWEgPSBuZXcgU2NoZW1hKFxyXG4gIHtcclxuICAgIGZ1bGxOYW1lOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnRnVsbCBuYW1lIGlzIHJlcXVpcmVkJ10sXHJcbiAgICAgIHRyaW06IHRydWUsXHJcbiAgICB9LFxyXG4gICAgZW1haWw6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogW3RydWUsICdFbWFpbCBpcyByZXF1aXJlZCddLFxyXG4gICAgICB1bmlxdWU6IHRydWUsXHJcbiAgICAgIHRyaW06IHRydWUsXHJcbiAgICAgIGxvd2VyY2FzZTogdHJ1ZSxcclxuICAgICAgbWF0Y2g6IFsvXlxcdysoWy4tXT9cXHcrKSpAXFx3KyhbLi1dP1xcdyspKihcXC5cXHd7MiwzfSkrJC8sICdQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIGVtYWlsJ10sXHJcbiAgICB9LFxyXG4gICAgcGFzc3dvcmQ6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogW3RydWUsICdQYXNzd29yZCBpcyByZXF1aXJlZCddLFxyXG4gICAgICBtaW5sZW5ndGg6IFs4LCAnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMgbG9uZyddLFxyXG4gICAgICBzZWxlY3Q6IGZhbHNlLCAvLyBEb24ndCBpbmNsdWRlIHBhc3N3b3JkIGluIHF1ZXJ5IHJlc3VsdHMgYnkgZGVmYXVsdFxyXG4gICAgfSxcclxuICAgIHJvbGU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICBlbnVtOiBbJ0FkbWluaXN0cmF0b3InLCAnRGVwYXJ0bWVudCBIZWFkJywgJ1RlYWNoZXInLCAnU3R1ZGVudCBUZWFjaGVyJ10sXHJcbiAgICAgIGRlZmF1bHQ6ICdUZWFjaGVyJyxcclxuICAgIH0sXHJcbiAgICBkZXBhcnRtZW50OiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgc3RhdHVzOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgZW51bTogWydhY3RpdmUnLCAnaW5hY3RpdmUnXSxcclxuICAgICAgZGVmYXVsdDogJ2FjdGl2ZScsXHJcbiAgICB9LFxyXG4gICAgbGFzdEFjdGl2ZToge1xyXG4gICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICBkZWZhdWx0OiBEYXRlLm5vdyxcclxuICAgIH0sXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLCAvLyBBZGRzIGNyZWF0ZWRBdCBhbmQgdXBkYXRlZEF0XHJcbiAgfVxyXG4pO1xyXG5cclxuLy8gQ3JlYXRlIGFuZCBleHBvcnQgVXNlciBtb2RlbFxyXG4vLyBDaGVjayBpZiB0aGUgbW9kZWwgZXhpc3RzIGJlZm9yZSBjcmVhdGluZyBhIG5ldyBvbmVcclxuY29uc3QgVXNlcjogTW9kZWw8SVVzZXI+ID0gbW9uZ29vc2UubW9kZWxzLlVzZXIgfHwgbW9uZ29vc2UubW9kZWw8SVVzZXI+KCdVc2VyJywgVXNlclNjaGVtYSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VyOyAiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJVc2VyU2NoZW1hIiwiZnVsbE5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ0cmltIiwiZW1haWwiLCJ1bmlxdWUiLCJsb3dlcmNhc2UiLCJtYXRjaCIsInBhc3N3b3JkIiwibWlubGVuZ3RoIiwic2VsZWN0Iiwicm9sZSIsImVudW0iLCJkZWZhdWx0IiwiZGVwYXJ0bWVudCIsInN0YXR1cyIsImxhc3RBY3RpdmUiLCJEYXRlIiwibm93IiwidGltZXN0YW1wcyIsIlVzZXIiLCJtb2RlbHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/models/User.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/auth/login.ts":
/*!*************************************!*\
  !*** ./src/pages/api/auth/login.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _utils_authUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/authUtils */ \"(api)/./src/utils/authUtils.ts\");\n/* harmony import */ var _utils_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/db */ \"(api)/./src/utils/db.ts\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models/User */ \"(api)/./src/models/User.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_authUtils__WEBPACK_IMPORTED_MODULE_0__]);\n_utils_authUtils__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nasync function handler(req, res) {\n  // Only allow POST method\n  if (req.method !== 'POST') {\n    return res.status(405).json({\n      error: 'Method not allowed'\n    });\n  }\n\n  try {\n    // Connect to database\n    console.log('Connecting to MongoDB...');\n    await (0,_utils_db__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    console.log('Connected to MongoDB successfully');\n    const {\n      email,\n      password\n    } = req.body;\n    console.log('Login attempt for:', email); // Basic validation\n\n    if (!email || !password) {\n      console.log('Login validation failed - missing fields');\n      return res.status(400).json({\n        error: 'Missing required fields',\n        message: 'Email and password are required'\n      });\n    } // Find user by email - include password for authentication\n\n\n    console.log('Finding user by email...');\n    const user = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      email\n    }).select('+password'); // Check if user exists\n\n    if (!user) {\n      console.log('Login failed - user not found:', email);\n      return res.status(401).json({\n        error: 'Authentication failed',\n        message: 'Invalid email or password'\n      });\n    } // Check if the account is active\n\n\n    if (user.status !== 'active') {\n      console.log('Login failed - account not active:', email);\n      return res.status(401).json({\n        error: 'Authentication failed',\n        message: 'Your account is not active. Please contact an administrator.'\n      });\n    } // Verify password\n\n\n    console.log('Verifying password...');\n    const isPasswordValid = await (0,_utils_authUtils__WEBPACK_IMPORTED_MODULE_0__.comparePassword)(password, user.password);\n\n    if (!isPasswordValid) {\n      console.log('Login failed - invalid password:', email);\n      return res.status(401).json({\n        error: 'Authentication failed',\n        message: 'Invalid email or password'\n      });\n    } // Generate JWT token\n\n\n    console.log('Generating token...');\n    const token = (0,_utils_authUtils__WEBPACK_IMPORTED_MODULE_0__.generateToken)(String(user._id)); // Update last active timestamp\n\n    user.lastActive = new Date();\n    await user.save();\n    console.log('Updated last active timestamp for user:', email); // Return user info (without password) and token\n\n    const userResponse = _objectSpread({}, user.toObject());\n\n    delete userResponse.password;\n    console.log('Login successful for:', email);\n    return res.status(200).json({\n      message: 'Login successful',\n      user: userResponse,\n      token\n    });\n  } catch (error) {\n    console.error('Login error details:', error); // Provide more specific error messages based on error type\n\n    return res.status(500).json({\n      error: 'Internal server error',\n      message: 'An error occurred during login',\n      details:  true ? error.message : 0\n    });\n  }\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLENBQUNDLEdBQVIsQ0FBWSx5Q0FBWixFQUF1REMsS0FBdkQsRUE1REUsQ0E4REY7O0lBQ0EsTUFBTWMsWUFBWSxxQkFBUVYsSUFBSSxDQUFDVyxRQUFMLEVBQVIsQ0FBbEI7O0lBQ0EsT0FBT0QsWUFBWSxDQUFDYixRQUFwQjtJQUVBSCxPQUFPLENBQUNDLEdBQVIsQ0FBWSx1QkFBWixFQUFxQ0MsS0FBckM7SUFDQSxPQUFPUCxHQUFHLENBQUNFLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtNQUMxQk8sT0FBTyxFQUFFLGtCQURpQjtNQUUxQkMsSUFBSSxFQUFFVSxZQUZvQjtNQUcxQk47SUFIMEIsQ0FBckIsQ0FBUDtFQUtELENBeEVELENBd0VFLE9BQU9YLEtBQVAsRUFBbUI7SUFDbkJDLE9BQU8sQ0FBQ0QsS0FBUixDQUFjLHNCQUFkLEVBQXNDQSxLQUF0QyxFQURtQixDQUduQjs7SUFDQSxPQUFPSixHQUFHLENBQUNFLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtNQUMxQkMsS0FBSyxFQUFFLHVCQURtQjtNQUUxQk0sT0FBTyxFQUFFLGdDQUZpQjtNQUcxQmEsT0FBTyxFQUFFLFFBQXlDbkIsS0FBSyxDQUFDTSxPQUEvQyxHQUF5RGMsQ0FBU0E7SUFIakQsQ0FBckIsQ0FBUDtFQUtEO0FBQ0YsQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RlYWNocHJlcC1haS8uL3NyYy9wYWdlcy9hcGkvYXV0aC9sb2dpbi50cz8xNzM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcclxuaW1wb3J0IHsgY29tcGFyZVBhc3N3b3JkLCBnZW5lcmF0ZVRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoVXRpbHMnO1xyXG5pbXBvcnQgY29ubmVjdERiIGZyb20gJ0AvdXRpbHMvZGInO1xyXG5pbXBvcnQgVXNlciwgeyBJVXNlciB9IGZyb20gJ0AvbW9kZWxzL1VzZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xyXG4gIC8vIE9ubHkgYWxsb3cgUE9TVCBtZXRob2RcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgLy8gQ29ubmVjdCB0byBkYXRhYmFzZVxyXG4gICAgY29uc29sZS5sb2coJ0Nvbm5lY3RpbmcgdG8gTW9uZ29EQi4uLicpO1xyXG4gICAgYXdhaXQgY29ubmVjdERiKCk7XHJcbiAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIE1vbmdvREIgc3VjY2Vzc2Z1bGx5Jyk7XHJcblxyXG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnTG9naW4gYXR0ZW1wdCBmb3I6JywgZW1haWwpO1xyXG5cclxuICAgIC8vIEJhc2ljIHZhbGlkYXRpb25cclxuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdMb2dpbiB2YWxpZGF0aW9uIGZhaWxlZCAtIG1pc3NpbmcgZmllbGRzJyk7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IFxyXG4gICAgICAgIGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdFbWFpbCBhbmQgcGFzc3dvcmQgYXJlIHJlcXVpcmVkJyBcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmluZCB1c2VyIGJ5IGVtYWlsIC0gaW5jbHVkZSBwYXNzd29yZCBmb3IgYXV0aGVudGljYXRpb25cclxuICAgIGNvbnNvbGUubG9nKCdGaW5kaW5nIHVzZXIgYnkgZW1haWwuLi4nKTtcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbCB9KS5zZWxlY3QoJytwYXNzd29yZCcpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgZXhpc3RzXHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0xvZ2luIGZhaWxlZCAtIHVzZXIgbm90IGZvdW5kOicsIGVtYWlsKTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgXHJcbiAgICAgICAgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiBmYWlsZWQnLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJyBcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGFjY291bnQgaXMgYWN0aXZlXHJcbiAgICBpZiAodXNlci5zdGF0dXMgIT09ICdhY3RpdmUnKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdMb2dpbiBmYWlsZWQgLSBhY2NvdW50IG5vdCBhY3RpdmU6JywgZW1haWwpO1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBcclxuICAgICAgICBlcnJvcjogJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcsXHJcbiAgICAgICAgbWVzc2FnZTogJ1lvdXIgYWNjb3VudCBpcyBub3QgYWN0aXZlLiBQbGVhc2UgY29udGFjdCBhbiBhZG1pbmlzdHJhdG9yLicgXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcmlmeSBwYXNzd29yZFxyXG4gICAgY29uc29sZS5sb2coJ1ZlcmlmeWluZyBwYXNzd29yZC4uLicpO1xyXG4gICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgY29tcGFyZVBhc3N3b3JkKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcclxuXHJcbiAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnTG9naW4gZmFpbGVkIC0gaW52YWxpZCBwYXNzd29yZDonLCBlbWFpbCk7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IFxyXG4gICAgICAgIGVycm9yOiAnQXV0aGVudGljYXRpb24gZmFpbGVkJyxcclxuICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZCcgXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdlbmVyYXRlIEpXVCB0b2tlblxyXG4gICAgY29uc29sZS5sb2coJ0dlbmVyYXRpbmcgdG9rZW4uLi4nKTtcclxuICAgIGNvbnN0IHRva2VuID0gZ2VuZXJhdGVUb2tlbihTdHJpbmcodXNlci5faWQpKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgbGFzdCBhY3RpdmUgdGltZXN0YW1wXHJcbiAgICB1c2VyLmxhc3RBY3RpdmUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICBjb25zb2xlLmxvZygnVXBkYXRlZCBsYXN0IGFjdGl2ZSB0aW1lc3RhbXAgZm9yIHVzZXI6JywgZW1haWwpO1xyXG5cclxuICAgIC8vIFJldHVybiB1c2VyIGluZm8gKHdpdGhvdXQgcGFzc3dvcmQpIGFuZCB0b2tlblxyXG4gICAgY29uc3QgdXNlclJlc3BvbnNlID0geyAuLi51c2VyLnRvT2JqZWN0KCkgfSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG4gICAgZGVsZXRlIHVzZXJSZXNwb25zZS5wYXNzd29yZDtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnTG9naW4gc3VjY2Vzc2Z1bCBmb3I6JywgZW1haWwpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogJ0xvZ2luIHN1Y2Nlc3NmdWwnLFxyXG4gICAgICB1c2VyOiB1c2VyUmVzcG9uc2UsXHJcbiAgICAgIHRva2VuXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdMb2dpbiBlcnJvciBkZXRhaWxzOicsIGVycm9yKTtcclxuICAgIFxyXG4gICAgLy8gUHJvdmlkZSBtb3JlIHNwZWNpZmljIGVycm9yIG1lc3NhZ2VzIGJhc2VkIG9uIGVycm9yIHR5cGVcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxyXG4gICAgICBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicsXHJcbiAgICAgIG1lc3NhZ2U6ICdBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgbG9naW4nLFxyXG4gICAgICBkZXRhaWxzOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IGVycm9yLm1lc3NhZ2UgOiB1bmRlZmluZWRcclxuICAgIH0pO1xyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiY29tcGFyZVBhc3N3b3JkIiwiZ2VuZXJhdGVUb2tlbiIsImNvbm5lY3REYiIsIlVzZXIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImVtYWlsIiwicGFzc3dvcmQiLCJib2R5IiwibWVzc2FnZSIsInVzZXIiLCJmaW5kT25lIiwic2VsZWN0IiwiaXNQYXNzd29yZFZhbGlkIiwidG9rZW4iLCJTdHJpbmciLCJfaWQiLCJsYXN0QWN0aXZlIiwiRGF0ZSIsInNhdmUiLCJ1c2VyUmVzcG9uc2UiLCJ0b09iamVjdCIsImRldGFpbHMiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/auth/login.ts\n");

/***/ }),

/***/ "(api)/./src/utils/authUtils.ts":
/*!********************************!*\
  !*** ./src/utils/authUtils.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   comparePassword: () => (/* binding */ comparePassword),\n/* harmony export */   generateMockToken: () => (/* binding */ generateMockToken),\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   validateToken: () => (/* binding */ validateToken),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken),\n/* harmony export */   withAuth: () => (/* binding */ withAuth)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db */ \"(api)/./src/utils/db.ts\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models/User */ \"(api)/./src/models/User.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([bcryptjs__WEBPACK_IMPORTED_MODULE_3__]);\nbcryptjs__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n // Extended request interface with authenticated user\n\n// JWT Secret from environment variables\nconst JWT_SECRET = process.env.JWT_SECRET || 'teachprep-secret-key'; // Generate a JWT token\n\nconst generateToken = userId => {\n  return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign({\n    userId\n  }, JWT_SECRET, {\n    expiresIn: '7d' // Token expires in 7 days\n\n  });\n}; // Generate a mock token for development (before connecting to MongoDB)\n\nconst generateMockToken = () => {\n  return 'mock-token-' + Math.random().toString(36).substring(2, 15);\n}; // Verify and decode a JWT token\n\nconst verifyToken = token => {\n  try {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n  } catch (error) {\n    return null;\n  }\n}; // Middleware to authenticate API requests\n\nconst withAuth = handler => {\n  return async (req, res) => {\n    try {\n      // Get token from authorization header\n      const authHeader = req.headers.authorization;\n\n      if (!authHeader || !authHeader.startsWith('Bearer ')) {\n        return res.status(401).json({\n          error: 'Unauthorized'\n        });\n      }\n\n      const token = authHeader.split(' ')[1]; // Verify token\n\n      const decoded = verifyToken(token);\n\n      if (!decoded) {\n        return res.status(401).json({\n          error: 'Invalid token'\n        });\n      } // Connect to database\n\n\n      await (0,_db__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(); // Get user from database\n\n      const user = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(decoded.id).select('-password');\n\n      if (!user) {\n        return res.status(401).json({\n          error: 'User not found'\n        });\n      } // Set user on request object\n\n\n      req.user = user; // Call the API handler\n\n      return handler(req, res);\n    } catch (error) {\n      console.error('Auth error:', error);\n      return res.status(500).json({\n        error: 'Internal server error'\n      });\n    }\n  };\n}; // Hash password\n\nconst hashPassword = async password => {\n  const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"].genSalt(10);\n  return bcryptjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"].hash(password, salt);\n}; // Compare password with hashed password\n\nconst comparePassword = async (password, hashedPassword) => {\n  return bcryptjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"].compare(password, hashedPassword);\n}; // Validate JWT token and return user\n\nconst validateToken = async req => {\n  try {\n    // Get token from Authorization header\n    const authHeader = req.headers.authorization;\n\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\n      return null;\n    }\n\n    const token = authHeader.substring(7); // Verify token\n\n    const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET); // Connect to database\n\n    await (0,_db__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(); // Find user by ID\n\n    const user = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(decoded.userId);\n\n    if (!user || user.status !== 'active') {\n      return null;\n    }\n\n    return user;\n  } catch (error) {\n    console.error('Token validation error:', error);\n    return null;\n  }\n};\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvYXV0aFV0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtDQUdBOztBQUtBO0FBQ0EsTUFBTUksVUFBVSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsVUFBWixJQUEwQixzQkFBN0MsRUFFQTs7QUFDTyxNQUFNRyxhQUFhLEdBQUlDLE1BQUQsSUFBNEI7RUFDdkQsT0FBT1Isd0RBQUEsQ0FBUztJQUFFUTtFQUFGLENBQVQsRUFBcUJKLFVBQXJCLEVBQWlDO0lBQ3RDTSxTQUFTLEVBQUUsSUFEMkIsQ0FDckI7O0VBRHFCLENBQWpDLENBQVA7QUFHRCxDQUpNLEVBTVA7O0FBQ08sTUFBTUMsaUJBQWlCLEdBQUcsTUFBYztFQUM3QyxPQUFPLGdCQUFnQkMsSUFBSSxDQUFDQyxNQUFMLEdBQWNDLFFBQWQsQ0FBdUIsRUFBdkIsRUFBMkJDLFNBQTNCLENBQXFDLENBQXJDLEVBQXdDLEVBQXhDLENBQXZCO0FBQ0QsQ0FGTSxFQUlQOztBQUNPLE1BQU1DLFdBQVcsR0FBSUMsS0FBRCxJQUF3QjtFQUNqRCxJQUFJO0lBQ0YsT0FBT2pCLDBEQUFBLENBQVdpQixLQUFYLEVBQWtCYixVQUFsQixDQUFQO0VBQ0QsQ0FGRCxDQUVFLE9BQU9lLEtBQVAsRUFBYztJQUNkLE9BQU8sSUFBUDtFQUNEO0FBQ0YsQ0FOTSxFQVFQOztBQUNPLE1BQU1DLFFBQVEsR0FBSUMsT0FBRCxJQUFrQjtFQUN4QyxPQUFPLE9BQU9DLEdBQVAsRUFBcUNDLEdBQXJDLEtBQThEO0lBQ25FLElBQUk7TUFDRjtNQUNBLE1BQU1DLFVBQVUsR0FBR0YsR0FBRyxDQUFDRyxPQUFKLENBQVlDLGFBQS9COztNQUVBLElBQUksQ0FBQ0YsVUFBRCxJQUFlLENBQUNBLFVBQVUsQ0FBQ0csVUFBWCxDQUFzQixTQUF0QixDQUFwQixFQUFzRDtRQUNwRCxPQUFPSixHQUFHLENBQUNLLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtVQUFFVixLQUFLLEVBQUU7UUFBVCxDQUFyQixDQUFQO01BQ0Q7O01BRUQsTUFBTUYsS0FBSyxHQUFHTyxVQUFVLENBQUNNLEtBQVgsQ0FBaUIsR0FBakIsRUFBc0IsQ0FBdEIsQ0FBZCxDQVJFLENBVUY7O01BQ0EsTUFBTUMsT0FBTyxHQUFHZixXQUFXLENBQUNDLEtBQUQsQ0FBM0I7O01BRUEsSUFBSSxDQUFDYyxPQUFMLEVBQWM7UUFDWixPQUFPUixHQUFHLENBQUNLLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtVQUFFVixLQUFLLEVBQUU7UUFBVCxDQUFyQixDQUFQO01BQ0QsQ0FmQyxDQWlCRjs7O01BQ0EsTUFBTWxCLCtDQUFTLEVBQWYsQ0FsQkUsQ0FvQkY7O01BQ0EsTUFBTStCLElBQUksR0FBRyxNQUFNOUIsNkRBQUEsQ0FBYzZCLE9BQU8sQ0FBQ0csRUFBdEIsRUFBMEJDLE1BQTFCLENBQWlDLFdBQWpDLENBQW5COztNQUVBLElBQUksQ0FBQ0gsSUFBTCxFQUFXO1FBQ1QsT0FBT1QsR0FBRyxDQUFDSyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7VUFBRVYsS0FBSyxFQUFFO1FBQVQsQ0FBckIsQ0FBUDtNQUNELENBekJDLENBMkJGOzs7TUFDQUcsR0FBRyxDQUFDVSxJQUFKLEdBQVdBLElBQVgsQ0E1QkUsQ0E4QkY7O01BQ0EsT0FBT1gsT0FBTyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sQ0FBZDtJQUNELENBaENELENBZ0NFLE9BQU9KLEtBQVAsRUFBYztNQUNkaUIsT0FBTyxDQUFDakIsS0FBUixDQUFjLGFBQWQsRUFBNkJBLEtBQTdCO01BQ0EsT0FBT0ksR0FBRyxDQUFDSyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7UUFBRVYsS0FBSyxFQUFFO01BQVQsQ0FBckIsQ0FBUDtJQUNEO0VBQ0YsQ0FyQ0Q7QUFzQ0QsQ0F2Q00sRUF5Q1A7O0FBQ08sTUFBTWtCLFlBQVksR0FBRyxNQUFPQyxRQUFQLElBQTZDO0VBQ3ZFLE1BQU1DLElBQUksR0FBRyxNQUFNcEMsd0RBQUEsQ0FBZSxFQUFmLENBQW5CO0VBQ0EsT0FBT0EscURBQUEsQ0FBWW1DLFFBQVosRUFBc0JDLElBQXRCLENBQVA7QUFDRCxDQUhNLEVBS1A7O0FBQ08sTUFBTUcsZUFBZSxHQUFHLE9BQzdCSixRQUQ2QixFQUU3QkssY0FGNkIsS0FHUjtFQUNyQixPQUFPeEMsd0RBQUEsQ0FBZW1DLFFBQWYsRUFBeUJLLGNBQXpCLENBQVA7QUFDRCxDQUxNLEVBT1A7O0FBQ08sTUFBTUUsYUFBYSxHQUFHLE1BQU92QixHQUFQLElBQStCO0VBQzFELElBQUk7SUFDRjtJQUNBLE1BQU1FLFVBQVUsR0FBR0YsR0FBRyxDQUFDRyxPQUFKLENBQVlDLGFBQS9COztJQUNBLElBQUksQ0FBQ0YsVUFBRCxJQUFlLENBQUNBLFVBQVUsQ0FBQ0csVUFBWCxDQUFzQixTQUF0QixDQUFwQixFQUFzRDtNQUNwRCxPQUFPLElBQVA7SUFDRDs7SUFFRCxNQUFNVixLQUFLLEdBQUdPLFVBQVUsQ0FBQ1QsU0FBWCxDQUFxQixDQUFyQixDQUFkLENBUEUsQ0FTRjs7SUFDQSxNQUFNZ0IsT0FBTyxHQUFHL0IsMERBQUEsQ0FBV2lCLEtBQVgsRUFBa0JiLFVBQWxCLENBQWhCLENBVkUsQ0FZRjs7SUFDQSxNQUFNSCwrQ0FBUyxFQUFmLENBYkUsQ0FlRjs7SUFDQSxNQUFNK0IsSUFBSSxHQUFHLE1BQU05Qiw2REFBQSxDQUFjNkIsT0FBTyxDQUFDdkIsTUFBdEIsQ0FBbkI7O0lBQ0EsSUFBSSxDQUFDd0IsSUFBRCxJQUFTQSxJQUFJLENBQUNKLE1BQUwsS0FBZ0IsUUFBN0IsRUFBdUM7TUFDckMsT0FBTyxJQUFQO0lBQ0Q7O0lBRUQsT0FBT0ksSUFBUDtFQUNELENBdEJELENBc0JFLE9BQU9iLEtBQVAsRUFBYztJQUNkaUIsT0FBTyxDQUFDakIsS0FBUixDQUFjLHlCQUFkLEVBQXlDQSxLQUF6QztJQUNBLE9BQU8sSUFBUDtFQUNEO0FBQ0YsQ0EzQk0sQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RlYWNocHJlcC1haS8uL3NyYy91dGlscy9hdXRoVXRpbHMudHM/ZWM0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XHJcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IGNvbm5lY3REYiBmcm9tICcuL2RiJztcclxuaW1wb3J0IFVzZXIsIHsgSVVzZXIgfSBmcm9tICdAL21vZGVscy9Vc2VyJztcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XHJcblxyXG4vLyBFeHRlbmRlZCByZXF1ZXN0IGludGVyZmFjZSB3aXRoIGF1dGhlbnRpY2F0ZWQgdXNlclxyXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhlbnRpY2F0ZWRBcGlSZXF1ZXN0IGV4dGVuZHMgTmV4dEFwaVJlcXVlc3Qge1xyXG4gIHVzZXI/OiBhbnk7XHJcbn1cclxuXHJcbi8vIEpXVCBTZWNyZXQgZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcclxuY29uc3QgSldUX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3RlYWNocHJlcC1zZWNyZXQta2V5JztcclxuXHJcbi8vIEdlbmVyYXRlIGEgSldUIHRva2VuXHJcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVRva2VuID0gKHVzZXJJZDogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuICByZXR1cm4gand0LnNpZ24oeyB1c2VySWQgfSwgSldUX1NFQ1JFVCwge1xyXG4gICAgZXhwaXJlc0luOiAnN2QnLCAvLyBUb2tlbiBleHBpcmVzIGluIDcgZGF5c1xyXG4gIH0pO1xyXG59O1xyXG5cclxuLy8gR2VuZXJhdGUgYSBtb2NrIHRva2VuIGZvciBkZXZlbG9wbWVudCAoYmVmb3JlIGNvbm5lY3RpbmcgdG8gTW9uZ29EQilcclxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlTW9ja1Rva2VuID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgcmV0dXJuICdtb2NrLXRva2VuLScgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpO1xyXG59O1xyXG5cclxuLy8gVmVyaWZ5IGFuZCBkZWNvZGUgYSBKV1QgdG9rZW5cclxuZXhwb3J0IGNvbnN0IHZlcmlmeVRva2VuID0gKHRva2VuOiBzdHJpbmcpOiBhbnkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIE1pZGRsZXdhcmUgdG8gYXV0aGVudGljYXRlIEFQSSByZXF1ZXN0c1xyXG5leHBvcnQgY29uc3Qgd2l0aEF1dGggPSAoaGFuZGxlcjogYW55KSA9PiB7XHJcbiAgcmV0dXJuIGFzeW5jIChyZXE6IEF1dGhlbnRpY2F0ZWRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gR2V0IHRva2VuIGZyb20gYXV0aG9yaXphdGlvbiBoZWFkZXJcclxuICAgICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIWF1dGhIZWFkZXIgfHwgIWF1dGhIZWFkZXIuc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIuc3BsaXQoJyAnKVsxXTtcclxuICAgICAgXHJcbiAgICAgIC8vIFZlcmlmeSB0b2tlblxyXG4gICAgICBjb25zdCBkZWNvZGVkID0gdmVyaWZ5VG9rZW4odG9rZW4pO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFkZWNvZGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHRva2VuJyB9KTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gQ29ubmVjdCB0byBkYXRhYmFzZVxyXG4gICAgICBhd2FpdCBjb25uZWN0RGIoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEdldCB1c2VyIGZyb20gZGF0YWJhc2VcclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQoZGVjb2RlZC5pZCkuc2VsZWN0KCctcGFzc3dvcmQnKTtcclxuICAgICAgXHJcbiAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVXNlciBub3QgZm91bmQnIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBTZXQgdXNlciBvbiByZXF1ZXN0IG9iamVjdFxyXG4gICAgICByZXEudXNlciA9IHVzZXI7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDYWxsIHRoZSBBUEkgaGFuZGxlclxyXG4gICAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdBdXRoIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn07XHJcblxyXG4vLyBIYXNoIHBhc3N3b3JkXHJcbmV4cG9ydCBjb25zdCBoYXNoUGFzc3dvcmQgPSBhc3luYyAocGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiA9PiB7XHJcbiAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTtcclxuICByZXR1cm4gYmNyeXB0Lmhhc2gocGFzc3dvcmQsIHNhbHQpO1xyXG59O1xyXG5cclxuLy8gQ29tcGFyZSBwYXNzd29yZCB3aXRoIGhhc2hlZCBwYXNzd29yZFxyXG5leHBvcnQgY29uc3QgY29tcGFyZVBhc3N3b3JkID0gYXN5bmMgKFxyXG4gIHBhc3N3b3JkOiBzdHJpbmcsXHJcbiAgaGFzaGVkUGFzc3dvcmQ6IHN0cmluZ1xyXG4pOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcclxuICByZXR1cm4gYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIGhhc2hlZFBhc3N3b3JkKTtcclxufTtcclxuXHJcbi8vIFZhbGlkYXRlIEpXVCB0b2tlbiBhbmQgcmV0dXJuIHVzZXJcclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlVG9rZW4gPSBhc3luYyAocmVxOiBOZXh0QXBpUmVxdWVzdCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBHZXQgdG9rZW4gZnJvbSBBdXRob3JpemF0aW9uIGhlYWRlclxyXG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XHJcbiAgICBpZiAoIWF1dGhIZWFkZXIgfHwgIWF1dGhIZWFkZXIuc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlci5zdWJzdHJpbmcoNyk7XHJcbiAgICBcclxuICAgIC8vIFZlcmlmeSB0b2tlblxyXG4gICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIEpXVF9TRUNSRVQpIGFzIHsgdXNlcklkOiBzdHJpbmcgfTtcclxuICAgIFxyXG4gICAgLy8gQ29ubmVjdCB0byBkYXRhYmFzZVxyXG4gICAgYXdhaXQgY29ubmVjdERiKCk7XHJcbiAgICBcclxuICAgIC8vIEZpbmQgdXNlciBieSBJRFxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQoZGVjb2RlZC51c2VySWQpO1xyXG4gICAgaWYgKCF1c2VyIHx8IHVzZXIuc3RhdHVzICE9PSAnYWN0aXZlJykge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHVzZXI7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1Rva2VuIHZhbGlkYXRpb24gZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59OyAiXSwibmFtZXMiOlsiand0IiwiY29ubmVjdERiIiwiVXNlciIsImJjcnlwdCIsIkpXVF9TRUNSRVQiLCJwcm9jZXNzIiwiZW52IiwiZ2VuZXJhdGVUb2tlbiIsInVzZXJJZCIsInNpZ24iLCJleHBpcmVzSW4iLCJnZW5lcmF0ZU1vY2tUb2tlbiIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsInZlcmlmeVRva2VuIiwidG9rZW4iLCJ2ZXJpZnkiLCJlcnJvciIsIndpdGhBdXRoIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXJ0c1dpdGgiLCJzdGF0dXMiLCJqc29uIiwic3BsaXQiLCJkZWNvZGVkIiwidXNlciIsImZpbmRCeUlkIiwiaWQiLCJzZWxlY3QiLCJjb25zb2xlIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0IiwiZ2VuU2FsdCIsImhhc2giLCJjb21wYXJlUGFzc3dvcmQiLCJoYXNoZWRQYXNzd29yZCIsImNvbXBhcmUiLCJ2YWxpZGF0ZVRva2VuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/utils/authUtils.ts\n");

/***/ }),

/***/ "(api)/./src/utils/db.ts":
/*!*************************!*\
  !*** ./src/utils/db.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);\n\n // Load environment variables\n\ndotenv__WEBPACK_IMPORTED_MODULE_1___default().config();\nconst MONGODB_URI = process.env.MONGODB_URI || 'mongodb://localhost:27017/teachprep'; // MongoDB connection options\n\nconst options = {// useNewUrlParser and useUnifiedTopology are now default in Mongoose 6\n};\n/**\r\n * Global MongoDB connection interface\r\n */\n\n/**\r\n * Global MongoDB connection cache\r\n */\nlet cached = globalThis.mongoose || {\n  conn: null,\n  promise: null\n}; // Initialize global mongoose cache\n\nif (!globalThis.mongoose) {\n  globalThis.mongoose = cached;\n}\n/**\r\n * Connect to MongoDB\r\n */\n\n\nasync function connectDb() {\n  if (cached.conn) {\n    return cached.conn;\n  }\n\n  if (!cached.promise) {\n    const opts = options;\n    cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then(mongoose => {\n      return mongoose;\n    });\n  }\n\n  cached.conn = await cached.promise;\n  return cached.conn;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDb);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtDQUdBOztBQUNBQyxvREFBQTtBQUVBLE1BQU1FLFdBQVcsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLFdBQVosSUFBMkIscUNBQS9DLEVBRUE7O0FBQ0EsTUFBTUcsT0FBZ0MsR0FBRyxDQUN2QztBQUR1QyxDQUF6QztBQUlBO0FBQ0E7QUFDQTs7QUFrQkE7QUFDQTtBQUNBO0FBQ0EsSUFBSUMsTUFBcUIsR0FBSUMsVUFBRCxDQUFvQlIsUUFBcEIsSUFBZ0M7RUFBRVMsSUFBSSxFQUFFLElBQVI7RUFBY0MsT0FBTyxFQUFFO0FBQXZCLENBQTVELEVBRUE7O0FBQ0EsSUFBSSxDQUFFRixVQUFELENBQW9CUixRQUF6QixFQUFtQztFQUNoQ1EsVUFBRCxDQUFvQlIsUUFBcEIsR0FBK0JPLE1BQS9CO0FBQ0Q7QUFFRDtBQUNBO0FBQ0E7OztBQUNBLGVBQWVJLFNBQWYsR0FBMkI7RUFDekIsSUFBSUosTUFBTSxDQUFDRSxJQUFYLEVBQWlCO0lBQ2YsT0FBT0YsTUFBTSxDQUFDRSxJQUFkO0VBQ0Q7O0VBRUQsSUFBSSxDQUFDRixNQUFNLENBQUNHLE9BQVosRUFBcUI7SUFDbkIsTUFBTUUsSUFBSSxHQUFHTixPQUFiO0lBRUFDLE1BQU0sQ0FBQ0csT0FBUCxHQUFpQlYsdURBQUEsQ0FBaUJHLFdBQWpCLEVBQThCUyxJQUE5QixFQUFvQ0UsSUFBcEMsQ0FBMENkLFFBQUQsSUFBYztNQUN0RSxPQUFPQSxRQUFQO0lBQ0QsQ0FGZ0IsQ0FBakI7RUFHRDs7RUFFRE8sTUFBTSxDQUFDRSxJQUFQLEdBQWMsTUFBTUYsTUFBTSxDQUFDRyxPQUEzQjtFQUNBLE9BQU9ILE1BQU0sQ0FBQ0UsSUFBZDtBQUNEOztBQUVELGlFQUFlRSxTQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVhY2hwcmVwLWFpLy4vc3JjL3V0aWxzL2RiLnRzPzlkYjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xyXG5cclxuLy8gTG9hZCBlbnZpcm9ubWVudCB2YXJpYWJsZXNcclxuZG90ZW52LmNvbmZpZygpO1xyXG5cclxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSSB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy90ZWFjaHByZXAnO1xyXG5cclxuLy8gTW9uZ29EQiBjb25uZWN0aW9uIG9wdGlvbnNcclxuY29uc3Qgb3B0aW9uczogbW9uZ29vc2UuQ29ubmVjdE9wdGlvbnMgPSB7XHJcbiAgLy8gdXNlTmV3VXJsUGFyc2VyIGFuZCB1c2VVbmlmaWVkVG9wb2xvZ3kgYXJlIG5vdyBkZWZhdWx0IGluIE1vbmdvb3NlIDZcclxufTtcclxuXHJcbi8qKlxyXG4gKiBHbG9iYWwgTW9uZ29EQiBjb25uZWN0aW9uIGludGVyZmFjZVxyXG4gKi9cclxuaW50ZXJmYWNlIE1vbmdvb3NlQ2FjaGUge1xyXG4gIGNvbm46IHR5cGVvZiBtb25nb29zZSB8IG51bGw7XHJcbiAgcHJvbWlzZTogUHJvbWlzZTx0eXBlb2YgbW9uZ29vc2U+IHwgbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCBnbG9iYWwgbW9uZ29vc2UgdHlwZXNcclxuICovXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICAvLyBVc2UgYSBuYW1lc3BhY2UgdG8gYXZvaWQgZHVwbGljYXRlIGRlY2xhcmF0aW9uIGlzc3Vlc1xyXG4gIG5hbWVzcGFjZSBOb2RlSlMge1xyXG4gICAgaW50ZXJmYWNlIEdsb2JhbCB7XHJcbiAgICAgIG1vbmdvb3NlOiBNb25nb29zZUNhY2hlIHwgdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEdsb2JhbCBNb25nb0RCIGNvbm5lY3Rpb24gY2FjaGVcclxuICovXHJcbmxldCBjYWNoZWQ6IE1vbmdvb3NlQ2FjaGUgPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLm1vbmdvb3NlIHx8IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9O1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBnbG9iYWwgbW9uZ29vc2UgY2FjaGVcclxuaWYgKCEoZ2xvYmFsVGhpcyBhcyBhbnkpLm1vbmdvb3NlKSB7XHJcbiAgKGdsb2JhbFRoaXMgYXMgYW55KS5tb25nb29zZSA9IGNhY2hlZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbm5lY3QgdG8gTW9uZ29EQlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gY29ubmVjdERiKCkge1xyXG4gIGlmIChjYWNoZWQuY29ubikge1xyXG4gICAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xyXG4gICAgY29uc3Qgb3B0cyA9IG9wdGlvbnM7XHJcblxyXG4gICAgY2FjaGVkLnByb21pc2UgPSBtb25nb29zZS5jb25uZWN0KE1PTkdPREJfVVJJLCBvcHRzKS50aGVuKChtb25nb29zZSkgPT4ge1xyXG4gICAgICByZXR1cm4gbW9uZ29vc2U7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3REYjsgIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiZG90ZW52IiwiY29uZmlnIiwiTU9OR09EQl9VUkkiLCJwcm9jZXNzIiwiZW52Iiwib3B0aW9ucyIsImNhY2hlZCIsImdsb2JhbFRoaXMiLCJjb25uIiwicHJvbWlzZSIsImNvbm5lY3REYiIsIm9wdHMiLCJjb25uZWN0IiwidGhlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/utils/db.ts\n");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/helpers.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/helpers.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("/**\n * Hoists a name from a module or promised module.\n *\n * @param module the module to hoist the name from\n * @param name the name to hoist\n * @returns the value on the module (or promised module)\n */ \nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"hoist\", ({\n    enumerable: true,\n    get: function() {\n        return hoist;\n    }\n}));\nfunction hoist(module, name) {\n    // If the name is available in the module, return it.\n    if (name in module) {\n        return module[name];\n    }\n    // If a property called `then` exists, assume it's a promise and\n    // return a promise that resolves to the name.\n    if (\"then\" in module && typeof module.then === \"function\") {\n        return module.then((mod)=>hoist(mod, name));\n    }\n    // If we're trying to hoise the default export, and the module is a function,\n    // return the module itself.\n    if (typeof module === \"function\" && name === \"default\") {\n        return module;\n    }\n    // Otherwise, return undefined.\n    return undefined;\n}\n\n//# sourceMappingURL=helpers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9oZWxwZXJzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQWlCO0FBQ2pCLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLHlDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RlYWNocHJlcC1haS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2hlbHBlcnMuanM/ZmJkYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEhvaXN0cyBhIG5hbWUgZnJvbSBhIG1vZHVsZSBvciBwcm9taXNlZCBtb2R1bGUuXG4gKlxuICogQHBhcmFtIG1vZHVsZSB0aGUgbW9kdWxlIHRvIGhvaXN0IHRoZSBuYW1lIGZyb21cbiAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIHRvIGhvaXN0XG4gKiBAcmV0dXJucyB0aGUgdmFsdWUgb24gdGhlIG1vZHVsZSAob3IgcHJvbWlzZWQgbW9kdWxlKVxuICovIFwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiaG9pc3RcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGhvaXN0O1xuICAgIH1cbn0pO1xuZnVuY3Rpb24gaG9pc3QobW9kdWxlLCBuYW1lKSB7XG4gICAgLy8gSWYgdGhlIG5hbWUgaXMgYXZhaWxhYmxlIGluIHRoZSBtb2R1bGUsIHJldHVybiBpdC5cbiAgICBpZiAobmFtZSBpbiBtb2R1bGUpIHtcbiAgICAgICAgcmV0dXJuIG1vZHVsZVtuYW1lXTtcbiAgICB9XG4gICAgLy8gSWYgYSBwcm9wZXJ0eSBjYWxsZWQgYHRoZW5gIGV4aXN0cywgYXNzdW1lIGl0J3MgYSBwcm9taXNlIGFuZFxuICAgIC8vIHJldHVybiBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgbmFtZS5cbiAgICBpZiAoXCJ0aGVuXCIgaW4gbW9kdWxlICYmIHR5cGVvZiBtb2R1bGUudGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBtb2R1bGUudGhlbigobW9kKT0+aG9pc3QobW9kLCBuYW1lKSk7XG4gICAgfVxuICAgIC8vIElmIHdlJ3JlIHRyeWluZyB0byBob2lzZSB0aGUgZGVmYXVsdCBleHBvcnQsIGFuZCB0aGUgbW9kdWxlIGlzIGEgZnVuY3Rpb24sXG4gICAgLy8gcmV0dXJuIHRoZSBtb2R1bGUgaXRzZWxmLlxuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSBcImZ1bmN0aW9uXCIgJiYgbmFtZSA9PT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgICAgcmV0dXJuIG1vZHVsZTtcbiAgICB9XG4gICAgLy8gT3RoZXJ3aXNlLCByZXR1cm4gdW5kZWZpbmVkLlxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhlbHBlcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/helpers.js\n");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Flogin&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cauth%5Clogin.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Flogin&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cauth%5Clogin.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_webpack_loaders_next_route_loader_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-route-loader/helpers */ \"(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/helpers.js\");\n/* harmony import */ var _src_pages_api_auth_login_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\auth\\login.ts */ \"(api)/./src/pages/api/auth/login.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_auth_login_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_auth_login_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// @ts-ignore this need to be imported from next/dist to be external\n\n\n\nconst PagesAPIRouteModule = next_dist_server_future_route_modules_pages_api_module__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule;\n// Import the userland code.\n// @ts-expect-error - replaced by webpack/turbopack loader\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_route_loader_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_auth_login_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_webpack_loaders_next_route_loader_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_auth_login_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/login\",\n        pathname: \"/api/auth/login\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_auth_login_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmF1dGglMkZsb2dpbiZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnNyYyU1Q3BhZ2VzJTVDYXBpJTVDYXV0aCU1Q2xvZ2luLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ2lGO0FBQ2xCO0FBQ21CO0FBQ2xGLDRCQUE0Qix1R0FBMEI7QUFDdEQ7QUFDQTtBQUM4RDtBQUM5RDtBQUNBLGlFQUFlLGdHQUFLLENBQUMseURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSxnR0FBSyxDQUFDLHlEQUFRO0FBQ3BDO0FBQ087QUFDUDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RlYWNocHJlcC1haS8/ZTNjOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtaWdub3JlIHRoaXMgbmVlZCB0byBiZSBpbXBvcnRlZCBmcm9tIG5leHQvZGlzdCB0byBiZSBleHRlcm5hbFxuaW1wb3J0ICogYXMgbW9kdWxlIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGVcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2hlbHBlcnNcIjtcbmNvbnN0IFBhZ2VzQVBJUm91dGVNb2R1bGUgPSBtb2R1bGUuUGFnZXNBUElSb3V0ZU1vZHVsZTtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSByZXBsYWNlZCBieSB3ZWJwYWNrL3R1cmJvcGFjayBsb2FkZXJcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyY1xcXFxwYWdlc1xcXFxhcGlcXFxcYXV0aFxcXFxsb2dpbi50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvbG9naW5cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL2xvZ2luXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Flogin&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cauth%5Clogin.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./node_modules/next/dist/server/future/route-kind.js":
/*!************************************************************!*\
  !*** ./node_modules/next/dist/server/future/route-kind.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"RouteKind\", ({\n    enumerable: true,\n    get: function() {\n        return RouteKind;\n    }\n}));\nvar RouteKind;\n(function(RouteKind) {\n    RouteKind[/**\n   * `PAGES` represents all the React pages that are under `pages/`.\n   */ \"PAGES\"] = \"PAGES\";\n    RouteKind[/**\n   * `PAGES_API` represents all the API routes under `pages/api/`.\n   */ \"PAGES_API\"] = \"PAGES_API\";\n    RouteKind[/**\n   * `APP_PAGE` represents all the React pages that are under `app/` with the\n   * filename of `page.{j,t}s{,x}`.\n   */ \"APP_PAGE\"] = \"APP_PAGE\";\n    RouteKind[/**\n   * `APP_ROUTE` represents all the API routes and metadata routes that are under `app/` with the\n   * filename of `route.{j,t}s{,x}`.\n   */ \"APP_ROUTE\"] = \"APP_ROUTE\";\n})(RouteKind || (RouteKind = {}));\n\n//# sourceMappingURL=route-kind.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLDZDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLElBQUksRUFBRSxHQUFHO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixJQUFJLEVBQUUsR0FBRztBQUNsQztBQUNBLENBQUMsOEJBQThCOztBQUUvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlYWNocHJlcC1haS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kLmpzPzI5OTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSb3V0ZUtpbmRcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFJvdXRlS2luZDtcbiAgICB9XG59KTtcbnZhciBSb3V0ZUtpbmQ7XG4oZnVuY3Rpb24oUm91dGVLaW5kKSB7XG4gICAgUm91dGVLaW5kWy8qKlxuICAgKiBgUEFHRVNgIHJlcHJlc2VudHMgYWxsIHRoZSBSZWFjdCBwYWdlcyB0aGF0IGFyZSB1bmRlciBgcGFnZXMvYC5cbiAgICovIFwiUEFHRVNcIl0gPSBcIlBBR0VTXCI7XG4gICAgUm91dGVLaW5kWy8qKlxuICAgKiBgUEFHRVNfQVBJYCByZXByZXNlbnRzIGFsbCB0aGUgQVBJIHJvdXRlcyB1bmRlciBgcGFnZXMvYXBpL2AuXG4gICAqLyBcIlBBR0VTX0FQSVwiXSA9IFwiUEFHRVNfQVBJXCI7XG4gICAgUm91dGVLaW5kWy8qKlxuICAgKiBgQVBQX1BBR0VgIHJlcHJlc2VudHMgYWxsIHRoZSBSZWFjdCBwYWdlcyB0aGF0IGFyZSB1bmRlciBgYXBwL2Agd2l0aCB0aGVcbiAgICogZmlsZW5hbWUgb2YgYHBhZ2Uue2osdH1zeyx4fWAuXG4gICAqLyBcIkFQUF9QQUdFXCJdID0gXCJBUFBfUEFHRVwiO1xuICAgIFJvdXRlS2luZFsvKipcbiAgICogYEFQUF9ST1VURWAgcmVwcmVzZW50cyBhbGwgdGhlIEFQSSByb3V0ZXMgYW5kIG1ldGFkYXRhIHJvdXRlcyB0aGF0IGFyZSB1bmRlciBgYXBwL2Agd2l0aCB0aGVcbiAgICogZmlsZW5hbWUgb2YgYHJvdXRlLntqLHR9c3sseH1gLlxuICAgKi8gXCJBUFBfUk9VVEVcIl0gPSBcIkFQUF9ST1VURVwiO1xufSkoUm91dGVLaW5kIHx8IChSb3V0ZUtpbmQgPSB7fSkpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0ZS1raW5kLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/server/future/route-kind.js\n");

/***/ }),

/***/ "(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.js":
/*!********************************************************************************!*\
  !*** ./node_modules/next/dist/server/future/route-modules/pages-api/module.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    PagesAPIRouteModule: function() {\n        return PagesAPIRouteModule;\n    },\n    default: function() {\n        return _default;\n    }\n});\nconst _routemodule = __webpack_require__(/*! ../route-module */ \"../route-module\");\nconst _node = __webpack_require__(/*! ../../../api-utils/node */ \"../../../api-utils/node\");\nclass PagesAPIRouteModule extends _routemodule.RouteModule {\n    /**\n   *\n   * @param req the incoming server request\n   * @param res the outgoing server response\n   * @param context the context for the render\n   */ async render(req, res, context) {\n        await (0, _node.apiResolver)(req, res, context.query, this.userland, {\n            ...context.previewProps,\n            revalidate: context.revalidate,\n            trustHostHeader: context.trustHostHeader,\n            allowedRevalidateHeaderKeys: context.allowedRevalidateHeaderKeys,\n            hostname: context.hostname\n        }, context.minimalMode, context.dev, context.page);\n    }\n}\nconst _default = PagesAPIRouteModule;\n\n//# sourceMappingURL=module.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsTUFBTSxDQUdMO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHFCQUFxQixtQkFBTyxDQUFDLHdDQUFpQjtBQUM5QyxjQUFjLG1CQUFPLENBQUMsd0RBQXlCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RlYWNocHJlcC1haS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuanM/ZGU4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbjAgJiYgKG1vZHVsZS5leHBvcnRzID0ge1xuICAgIFBhZ2VzQVBJUm91dGVNb2R1bGU6IG51bGwsXG4gICAgZGVmYXVsdDogbnVsbFxufSk7XG5mdW5jdGlvbiBfZXhwb3J0KHRhcmdldCwgYWxsKSB7XG4gICAgZm9yKHZhciBuYW1lIGluIGFsbClPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogYWxsW25hbWVdXG4gICAgfSk7XG59XG5fZXhwb3J0KGV4cG9ydHMsIHtcbiAgICBQYWdlc0FQSVJvdXRlTW9kdWxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFBhZ2VzQVBJUm91dGVNb2R1bGU7XG4gICAgfSxcbiAgICBkZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0O1xuICAgIH1cbn0pO1xuY29uc3QgX3JvdXRlbW9kdWxlID0gcmVxdWlyZShcIi4uL3JvdXRlLW1vZHVsZVwiKTtcbmNvbnN0IF9ub2RlID0gcmVxdWlyZShcIi4uLy4uLy4uL2FwaS11dGlscy9ub2RlXCIpO1xuY2xhc3MgUGFnZXNBUElSb3V0ZU1vZHVsZSBleHRlbmRzIF9yb3V0ZW1vZHVsZS5Sb3V0ZU1vZHVsZSB7XG4gICAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSByZXEgdGhlIGluY29taW5nIHNlcnZlciByZXF1ZXN0XG4gICAqIEBwYXJhbSByZXMgdGhlIG91dGdvaW5nIHNlcnZlciByZXNwb25zZVxuICAgKiBAcGFyYW0gY29udGV4dCB0aGUgY29udGV4dCBmb3IgdGhlIHJlbmRlclxuICAgKi8gYXN5bmMgcmVuZGVyKHJlcSwgcmVzLCBjb250ZXh0KSB7XG4gICAgICAgIGF3YWl0ICgwLCBfbm9kZS5hcGlSZXNvbHZlcikocmVxLCByZXMsIGNvbnRleHQucXVlcnksIHRoaXMudXNlcmxhbmQsIHtcbiAgICAgICAgICAgIC4uLmNvbnRleHQucHJldmlld1Byb3BzLFxuICAgICAgICAgICAgcmV2YWxpZGF0ZTogY29udGV4dC5yZXZhbGlkYXRlLFxuICAgICAgICAgICAgdHJ1c3RIb3N0SGVhZGVyOiBjb250ZXh0LnRydXN0SG9zdEhlYWRlcixcbiAgICAgICAgICAgIGFsbG93ZWRSZXZhbGlkYXRlSGVhZGVyS2V5czogY29udGV4dC5hbGxvd2VkUmV2YWxpZGF0ZUhlYWRlcktleXMsXG4gICAgICAgICAgICBob3N0bmFtZTogY29udGV4dC5ob3N0bmFtZVxuICAgICAgICB9LCBjb250ZXh0Lm1pbmltYWxNb2RlLCBjb250ZXh0LmRldiwgY29udGV4dC5wYWdlKTtcbiAgICB9XG59XG5jb25zdCBfZGVmYXVsdCA9IFBhZ2VzQVBJUm91dGVNb2R1bGU7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZHVsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Flogin&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cauth%5Clogin.ts&middlewareConfigBase64=e30%3D!"));
module.exports = __webpack_exports__;

})();